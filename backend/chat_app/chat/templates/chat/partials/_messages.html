{% for message in chat.messages.all %}
    <div class="message {% if message.sender == request.user %}sent{% else %}received{% endif %}">
        <div class="message-info">
            {{ message.sender.username }} - {{ message.timestamp|date:"M d, Y H:i" }}
        </div>
        {% if message.content != None %}
        <div class="message-content">
                {{ message.content }}
        </div>
        {% else %}
        <div class="message-file">
            <img src="{{ message.file.url }}" alt="uploaded file">
        </div>
        {% endif %}
    </div>
{% empty %}
    <p style="text-align: center; color: #666;">No messages yet. Start the conversation!</p>
{% endfor %}
